<?xml version="1.0"?>
<bassa_conf>
	<!-- Server configuration -->
	<server>
		<server_name>Experimental Offline Downloader</server_name>
		<server_address>127.0.0.1</server_address>
		<server_port>8095</server_port>
		<server_backlog>20</server_backlog>
		<!-- All about number of simultaneous connections -->
		<server_children>
			<!-- This is the maximum number of connections that can be made to the server -->
			<max_children>5</max_children>
			<!-- This is the timeout value of the inactive children -->
			<child_timeout>10</child_timeout>
		</server_children>
		<!-- Keep following if we have a proxy -->
		<!--
		<server_http_proxy_address>192.248.16.90</server_http_proxy_address>
		<server_http_proxy_port>3128</server_http_proxy_port>
		-->
	</server>
	
	<!-- Offline downloader configuration -->
	<downloader>
		<connect_timeout>70</connect_timeout>
	    	<downloader_notifier>
			<notifier_module>/home/wathsala/bassa/src/notifiers/web/.libs/libweb_notifier.so</notifier_module>
			<notification_url>http://127.0.0.1/x.html</notification_url>
			<notification_tries>3</notification_tries>
		</downloader_notifier>
		<downloader_activation_time>
			<!-- This is the way to start downloader every day 6.30PM --> 
			<hours>14</hours>
			<minutes>17</minutes>
			<seconds>0</seconds>
		</downloader_activation_time>
		<download_deactivation_time>
			<hours>13</hours>
			<minutes>12</minutes>
			<seconds>0</seconds>
		</download_deactivation_time>
		<downloader_children>
			<!-- Maximum simultaneous downloads -->
			<max_children>3</max_children>
			<!-- Monitor progress of the download in bytes, KBs or MBs against time. Useful for statistics-->
			<monitor_progress>yes</monitor_progress>
			<!-- If first attempt todownload fails within timeout value, we can retry. Give the maximum number of retires below. 3 is default -->
			<max_tries>2</max_tries>
			
			<!-- After excedding the max_tries and still we don not notification_trieshave 0 Bytes downloaded we will remove it from the queue forerver and send a notification to the user, if this value is set to yes, opposite will work if this is no -->
			<remove_inactive>yes</remove_inactive>
		</downloader_children>
		<!-- Maximum length of the queue -->
		<downloader_queue_length>1000</downloader_queue_length>
	</downloader>

	<!-- Repository configuration -->
	<repository>
		<!-- Path to the repository -->
		<repository_path>/var/www/html/bassa/data</repository_path>
		<!-- URL prefix, this will be added in front of the file name when repository search is done, please end this value with a /  -->
		<repository_url_prefix>ftp://192.248.16.121/pub/</repository_url_prefix>
	</repository>
	<modules>
		<module>
			<name>mod_crypt</name>
			<path>src/modules/crypt/.libs/libmod_crypt.so</path>
		</module>
		<module>
			<name>mod_flv</name>
			<path>src/modules/meta_content/video2flv/.libs/libmod_flv.so</path>
			<modconf>/home/wathsala/bassa/etc/mod_flv.conf</modconf>
		</module>
<!--
		<module>
			<name>mod_ac</name>
			<path>src/modules/anti_collision/.libs/libmod_ac.so</path>
		</module>
-->
		<module>
                        <name>mod_mime</name>
                        <path>src/modules/mime/.libs/libmod_mime.so</path>
			<modconf>/home/wathsala/bassa/etc/mod_mime.conf</modconf>
                </module>
                <module>
                        <name>mod_webnotifier</name>
                        <path>src/modules/notifiers/web/.libs/libmod_webnot.so</path>
			<modconf>/home/wathsala/bassa/etc/webnot.conf</modconf>
                </module>
        </modules>
</bassa_conf>
